# BMSTU DIRECT: бот обратной связи

## Как запускать

Требует `docker` для запуска

```bash
docker compose -f docker-compose.yml --env-file .env up --build
```

Загружает окружение из `.env` файла. Пример содержимого `.env` представлен в файле .env-example
structure: 
```
├── config.py         - парсер енв файла
├── core              - сам бот
 ├── filters          - фильтры, используемые при обработке хендлеров
  ├── __init__.py   
  └── role.py         - пока он только один, для отличия обычных юзеров и админов. прописывается при регистрации хендлера, например role=UserRole.OWNER
 ├── handlers         - сами хендлеры
  ├── admin.py        - для админов
  ├── __init__.py
  └── user.py         - и обычных пользователей соответсвенно
 ├── __init__.py
 ├── middlewares      - мидлвари (промежуточный этап между получением апдейта и передачей его в хендлер 
  ├── db.py           - тут прокидываем в каждый хендлер обьект Repo (интерфейс базы данных)
  ├── __init__.py
  ├── role.py         - определяем роль
  └── user_control.py - мидлваря с полезным функционалом (которого пока нет). обычно в нее прописывают автоматическое добавление юзера в бд
 ├── models            
  ├── __init__.py
  └── role.py         - модель ролей пользователей
 ├── states           - стейты
  ├── Example.py
  └── __init__.py
 └── utils            - всякое разное
     ├── keyboards.py - например клавиатуры
     └── variables.py - и какие то переменные
├── docker-compose.yml
├── Dockerfile
├── main.py
├── README.md
├── requirements.txt
└── services          - вспомогательные самописные модули
    ├── db            - бд
     ├── base.py      - файлы ниже для подключения и описания моделей 
     ├── create_db.py
     ├── db_pool.py
     ├── __init__.py
     ├── models.py
     └── services      
         ├── __init__.py
         └── repository.py  - сам интерфейс для взаимодействия с бд. именно там создаются все методы для работы с данными. пример оставил
     └── __init__.py
```